<!DOCTYPE html>
<html lang="en">
<style>
    #d1{
        width: 500px;
        height: 400px;
        background-color:blue;
    }
    
    input{
        display: block;
        width: 300px;
        height: 40px;
        margin: 20px auto;
        
    }
    span{
        margin-left: 100px;
        font-size: 24px;
    }
</style>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
 </head>
 <body>
     <div id="d1">
         <p><span>用户名：</span> <input type="text"  id="name"></p>
        <p><span>密　码：</span><input type="password" id="pwd"></p>
         <p><input type="button" onclick="submit()" value="原生登录" ></p>
         <p><input type="button" onclick="submitAjax()" value="ajax登录" ></p>
     </div>
</body>
<script src="https://cdn.bootcss.com/jquery/3.5.0/jquery.js"></script>
<script>
    //原生登录
    // function submit() {
    //     let text = document.querySelector("#name").value
    //     let pwd = document.querySelector('#pwd').value
    //     console.log(text);
    //     console.log(pwd);
    //     let req = new XMLHttpRequest()
    //     //2.打开连接
    //     req.open('GET', `
    //     https://23b9d450-5be4-4bd4-ae8f-7438d4140669.mock.pstmn.io/123?name=${text}`)
    //     // req.setRequestHeader()//post
    //     //3.获取响应内容
    //     req.onreadystatechange = function () {
    //         if (req.readyState == 4) {
    //             if (req.status == 200) {
    //                 // console.log(req.responseText);

    //                 let obj = JSON.parse(req.responseText)
    //                 if ((text == obj.name) && (pwd == obj.password)) {
    //                     alert(`登录成功！用户名：${obj.name}，密码：${obj.password}`)
    //                 }
    //             }
    //         }
    //     }
    //     req.send()
    // }
    //ajax登录
    function submitAjax() {
       let text = document.querySelector("#name").value
        let pwd = document.querySelector("#pwd").value
         $.ajax({
            type: "GET",
           url: "https://23b9d450-5be4-4bd4-ae8f-7438d4140669.mock.pstmn.io/123",
             data: "name=John&location=Boston",
             dataType: 'json',
             success: function (obj) {
                 if ((text == obj.name) && (pwd == obj.password)) {
                     alert(`登录成功！用户名：${obj.name}，密码：${obj.password}`)
                }
             },
            error: function (error) {
                console.log(error);
             }
         });
    }
 </script>

<html>